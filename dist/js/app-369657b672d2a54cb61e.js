(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"/7QA":function(t,e,n){"use strict";n.r(e);function r(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app-container"}},[e("router-view",{staticClass:"router-container"})],1)}var o=n("bm2v");r._withStripped=!0;var a,i,c=n("iQd6"),u=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(i=(a<3?o(i):3<a?o(e,n,i):o(e,n))||i);return 3<a&&i&&Object.defineProperty(e,n,i),i};function p(){return null!==i&&i.apply(this,arguments)||this}var l=(i=o.a,u(p,i),p=s([c.a],p)),f=(n("d3Gf"),n("F8we")),b=Object(f.a)(l,r,[],!1,null,"617ab0be",null);b.options.__file="src/components/App.vue";var d=b.exports,v=(n("Adcb"),n("gWxT")),h=n.n(v),y=n("Nhdc");h.a.attach(document.body),o.a.component("Loading",y.Loading),o.a.component("ScrollView",y.ScrollView);function g(t){return new Promise(function(r,o){return T(t).then(function(t){var e=t.data,n=e.data;if(e.success)return r(n);o({code:500,data:{},message:"请求失败."})}).catch(function(){o({code:500,data:{},message:"请求失败!"})})})}function m(t,e){return g({url:t,params:e,method:"get"})}var _,O,w,j,P=n("WRrH"),S="get/v2/topics",D=n("f0Pt"),T=n.n(D).a.create({baseURL:"https://cnodejs.org/api/v1",timeout:1e4}),x=((_={})[S]=function(n,t){var r=t.tab,e=t.page,o=void 0===e?1:e,a=t.limit;return m("/topics",{tab:r,page:o,limit:void 0===a?20:a}).then(function(t){var e={Tab:r,List:t,Page:o,isPush:1<o};return n.commit(S,e),t})},_),C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R={actions:x,state:{tabData:{}},mutations:(O={},O[S]=function(t,e){var n,r=e.List,o=e.isPush,a=e.Tab,i=e.Page,c=t.tabData,u=(c[a]||{}).list,s=o?(void 0===u?[]:u).concat(r):r;t.tabData=C({},c,((n={})[a]={page:i,list:s},n))},O)},k=n("xqZi"),L=function(){return(L=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=((w={})[k.a]=function(e,t){return m("/topic/"+t,{mdrender:!0}).then(function(t){e.commit(k.a,L({},t))})},w),I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N={actions:A,state:{detail:{}},mutations:(j={},j[k.a]=function(t,e){var n,r=e.id,o=t.detail;t.detail=I({},o,((n={})[r]=e,n))},j)},V=n("UMGS");o.a.use(P.b);function $(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scene-view",class:this.pageScene},[e("transition",[e("keep-alive",{attrs:{include:"Topics"}},[e("router-view",{staticClass:"router-container"})],1)],1)],1)}var z={plugins:[Object(V.a)({storage:sessionStorage})],modules:{topics:R,details:N}},U=new P.a(z),H=n("Hm8H"),Q=n("PRir");$._withStripped=!0;var E,q,M=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Y=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(i=(a<3?o(i):3<a?o(e,n,i):o(e,n))||i);return 3<a&&i&&Object.defineProperty(e,n,i),i},B=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||0<e--)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},F=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(B(arguments[e]));return t},G="jump/path";function J(){var t=null!==q&&q.apply(this,arguments)||this;return t.direction="",t}var K=(q=o.a,M(J,q),Object.defineProperty(J.prototype,"pageScene",{get:function(){return this.direction?"page-"+this.direction:""},enumerable:!0,configurable:!0}),J.prototype.getIndex=function(t,e){return t.findIndex(function(t){return t===e})},J.prototype.onRouteChange=function(t,e){var n=function(t){var e=sessionStorage.getItem(t);try{return JSON.parse(e)}catch(t){return e}}(G)||[],r=e.name,o=t.name;n.push.apply(n,F([r,o])),n=F(new Set(n)),function(t,e){sessionStorage.setItem(t,JSON.stringify(e))}(G,n);var a=this.getIndex(n,r),i=this.getIndex(n,o);this.direction=i<a?"back":"forward"},Y([Object(c.d)("$route")],J.prototype,"onRouteChange",null),J=Y([Object(c.a)({name:"Scene"})],J)),X=(n("KDck"),Object(f.a)(K,$,[],!1,null,"55d9de8c",null));X.options.__file="src/components/Scene.vue";function W(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("Header",{attrs:{tabs:t.tabs,page:t.curPage},on:{change:t.onPageChange}}),t._v(" "),n("TabView",{attrs:{page:t.curPage}},t._l(t.tabs,function(t,e){return n("TabContent",{key:e},[n("Pager",{attrs:{tab:t.id}})],1)}),1)],1)}function Z(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-content"},[n("ScrollView",{attrs:{page:e.curPage,pageSize:e.pageSize},on:{onLoadMore:e.onLoadMore,onRefresh:e.onRefresh,scroll:e.onScroll},model:{value:e.myScroll,callback:function(t){e.myScroll=t},expression:"myScroll"}},[n("ul",{staticClass:"items"},e._l(e.queryList,function(t,e){return n("Item",{key:e,attrs:{itemData:t}})}),1)])],1)}var tt=X.exports;Z._withStripped=W._withStripped=!0;function et(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item",on:{click:t.goDetail}},[n("p",{staticClass:"title"},[t.tagName?n("span",{staticClass:"tag"},[t._v("\n            "+t._s(t.tagName)+"\n        ")]):t._e(),t._v(" "),n("span",{staticClass:"text"},[t._v("\n            "+t._s(t.itemData.title)+"\n        ")])]),t._v(" "),n("div",{staticClass:"desc"},[n("img",{staticClass:"avatar",attrs:{src:t.avatarUrl}}),t._v(" "),n("div",{staticClass:"content"},[n("div",[t._v("\n                "+t._s(t.userName)+t._s(t.submitTime)+"\n            ")]),t._v(" "),n("div",[t._v(t._s(t.visitCount)+"人浏览")])])])])}var nt=n("o0nx");et._withStripped=!0;var rt,ot,at=n("t06s"),it=(rt=function(t,e){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ct=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(i=(a<3?o(i):3<a?o(e,n,i):o(e,n))||i);return 3<a&&i&&Object.defineProperty(e,n,i),i},ut={good:"精华",share:"分享",ask:"问答",job:"招聘",dev:"测试"};function st(){return null!==ot&&ot.apply(this,arguments)||this}var pt=(ot=o.a,it(st,ot),Object.defineProperty(st.prototype,"avatarUrl",{get:function(){return this.itemData.author.avatar_url},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"tagName",{get:function(){var t=this.itemData,e=t.tab;return t.top?"置顶":ut[e]},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"userName",{get:function(){var t=this.itemData.author.loginname;return void 0===t?"":t},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"submitTime",{get:function(){var t=this.itemData.create_at;return" • 发布于"+at.a(t)},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"visitCount",{get:function(){var t=this.itemData.visit_count;return void 0===t?0:t},enumerable:!0,configurable:!0}),st.prototype.goDetail=function(){var t=this.itemData.id;this.$router.push("/details/"+t)},ct([Object(c.c)({default:function(){}})],st.prototype,"itemData",void 0),st=ct([c.a],st)),lt=(n("NV9d"),Object(f.a)(pt,et,[],!1,null,"4216a9f4",null));lt.options.__file="src/views/topics/item.vue";var ft,bt,dt=lt.exports,vt=(ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ht=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(i=(a<3?o(i):3<a?o(e,n,i):o(e,n))||i);return 3<a&&i&&Object.defineProperty(e,n,i),i},yt=function(a,i,c,u){return new(c||(c=Promise))(function(t,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function r(t){try{o(u.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,r)}o((u=u.apply(a,i||[])).next())})},gt=function(n,r){var o,a,i,t,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&e[0]?a.return:e[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,e[1])).done)return i;switch(a=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){c.label=e[1];break}if(6===e[0]&&c.label<i[1]){c.label=i[1],i=e;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(e);break}i[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(t){e=[6,t],a=0}finally{o=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};function mt(){var t=null!==bt&&bt.apply(this,arguments)||this;return t.pageSize=20,t.scrollY=0,t.myScroll={},t.isFirstLoading=!0,t}var _t=(bt=o.a,vt(mt,bt),Object.defineProperty(mt.prototype,"curPage",{get:function(){var t=this.curTab.page;return void 0===t?0:t},enumerable:!0,configurable:!0}),Object.defineProperty(mt.prototype,"curTab",{get:function(){return this.topics[this.tab]||{}},enumerable:!0,configurable:!0}),Object.defineProperty(mt.prototype,"queryList",{get:function(){var t=this.curTab.list;return void 0===t?[]:t},enumerable:!0,configurable:!0}),mt.prototype.onRefresh=function(n){return yt(this,void 0,void 0,function(){var e;return gt(this,function(t){switch(t.label){case 0:e={num:1,time:null,size:this.pageSize},t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.onLoadMore(e,n)];case 2:case 3:return t.sent(),[3,4];case 4:return[2]}})})},mt.prototype.onLoadMore=function(o,a){return yt(this,void 0,void 0,function(){var e,n,r;return gt(this,function(t){switch(t.label){case 0:if(e={tab:this.tab,page:o.num,limit:o.size},this.isFirstLoading&&(this.isFirstLoading=!1,this.queryList.length))return[2,a(this.pageSize)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.getTopicList(e)];case 2:return n=t.sent(),a(n.length),[3,4];case 3:return r=t.sent(),[2,Promise.reject(r)];case 4:return[2]}})})},mt.prototype.onScroll=function(t){this.scrollY=t},mt.prototype.activated=function(){this.myScroll.scrollTo(this.scrollY,0)},ht([Object(c.c)({default:""})],mt.prototype,"tab",void 0),ht([Object(nt.a)(S)],mt.prototype,"getTopicList",void 0),ht([Object(nt.b)(function(t){return t.topics.tabData})],mt.prototype,"topics",void 0),mt=ht([Object(c.a)({components:{Item:dt}})],mt)),Ot=(n("29uX"),Object(f.a)(_t,Z,[],!1,null,"8eaaf79c",null));Ot.options.__file="src/views/topics/pager.vue";var wt,jt,Pt=Ot.exports,St=(wt=function(t,e){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dt=function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(i=(a<3?o(i):3<a?o(e,n,i):o(e,n))||i);return 3<a&&i&&Object.defineProperty(e,n,i),i},Tt=y.TabView.Header,xt=y.TabView.Content,Ct=y.TabView.Container;function Rt(){var t=null!==jt&&jt.apply(this,arguments)||this;return t.tabs=[{id:"all",name:"全部"},{id:"good",name:"精华"},{id:"share",name:"分享"},{id:"ask",name:"问答"},{id:"job",name:"招聘"},{id:"dev",name:"测试"}],t}var kt=(jt=o.a,St(Rt,jt),Object.defineProperty(Rt.prototype,"curPage",{get:function(){return this.getPageByTab(this.tabId)},enumerable:!0,configurable:!0}),Object.defineProperty(Rt.prototype,"tabId",{get:function(){var t=this.$route.params.tab;return void 0===t?"":t},enumerable:!0,configurable:!0}),Rt.prototype.getPageByTab=function(e){var t=this.tabs.findIndex(function(t){return t.id===e});return t<0?0:t},Rt.prototype.getTabByPage=function(t){return this.tabs[t].id},Rt.prototype.onPageChange=function(t){var e=this.getTabByPage(t);this.$router.push("/topic/"+e)},Rt=Dt([Object(c.a)({name:"Topics",components:{Header:Tt,Pager:Pt,TabContent:xt,TabView:Ct}})],Rt)),Lt=(n("kAzh"),Object(f.a)(kt,W,[],!1,null,"09331ccc",null));Lt.options.__file="src/views/topics/main.vue";var At=[{path:"/",component:tt,children:[{name:"topic",path:"/topic/:tab",meta:{keepAlive:!0},component:Lt.exports},{name:"details",path:"/details/:id",component:Object(Q.a)(function(){return n.e(0).then(n.bind(null,"so6H"))})}],redirect:"/topic/all"}];o.a.use(H.a);var It=new H.a({routes:At});new o.a({store:U,router:It,render:function(t){return t(d)}}).$mount("#app")},"/Qvx":function(t,e,n){},"29uX":function(t,e,n){"use strict";var r=n("Qrko");n.n(r).a},Adcb:function(t,e,n){},KDck:function(t,e,n){"use strict";var r=n("UfXD");n.n(r).a},KUpe:function(t,e,n){},LLtY:function(t,e,n){},NV9d:function(t,e,n){"use strict";var r=n("/Qvx");n.n(r).a},Qrko:function(t,e,n){},UfXD:function(t,e,n){},d3Gf:function(t,e,n){"use strict";var r=n("KUpe");n.n(r).a},kAzh:function(t,e,n){"use strict";var r=n("LLtY");n.n(r).a},t06s:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=Date.now()-new Date(t).getTime(),n=~~(e/36e5),r=~~(e%36e5/6e4),o=~~(n/24);if(n<24)return 0<n?n+"小时前":0<r?r+"分钟前":"刚刚";if(o<=30)return o+"天前";var a=~~(o/30);return a<12?a+"个月前":~~(a/12)+"年前"}},xqZi:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="v2/topics/id"}},[["/7QA","runtime","libs","commons"]]]);